:root{
  --bg:#f7fafc;
  --panel:#eeeeee;
  --jar:#d1e1df;
  --soil:#3a241d;
}
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--bg);
  color:#222;
  line-height:1.5;
}

/* 헤더/푸터 */
.site-header{ padding:20px 16px 8px; text-align:center; }
.subtitle{ margin:6px 0 10px; color:#555; }
.site-footer{ text-align:center; padding:16px; color:#666; }

/* 3분할 레이아웃 */
#page{
  display:grid;
  grid-template-columns:15% 1fr 15%;
  gap:12px;
  padding:12px;
  min-height:calc(100vh - 140px);
}
.container{
  background:var(--panel);
  padding:10px;
  border-radius:12px;
  position:relative;
}

/* 사이드 목록 카드 */
.plant-holder{
  position:relative;
  height:13vh;
  margin-bottom:8px;
  background:#fff;
  border-radius:10px;
  display:flex; align-items:center; justify-content:center;
  outline:1px dashed #e0e0e0;
  overflow:hidden;
}
.plant-holder:last-child{ margin-bottom:0; }

/* 사이드 썸네일 상태 */
.plant{
  max-width:150%;
  max-height:150%;
  cursor:grab;
  user-select:none;
}

/* 중앙 캔버스 */
#terrarium-area{
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  min-height:60vh;
}
#terrarium{
  position:relative;
  width:min(600px, 90%);
  height:min(620px, 80vh);
  margin:0 auto;
}

/* 병 모양 */
.jar-walls{
  height:80%; width:60%;
  background:var(--jar);
  border-radius:1rem;
  position:absolute; bottom:0.5%; left:20%;
  opacity:0.5;
  z-index:1;                 /* 유리 레이어 */
  box-shadow: inset 0 0 30px rgba(255,255,255,0.35), 0 10px 20px rgba(0,0,0,0.05);
  backdrop-filter: blur(1px);
  pointer-events:none;       /* 드래그 방해 금지 */
}
.jar-top{
  width:50%; height:5%;
  background:var(--jar);
  position:absolute; bottom:80.5%; left:25%;
  opacity:0.7; z-index:1; border-radius:8px 8px 0 0;
}
.jar-bottom{
  width:50%; height:1%;
  background:var(--jar);
  position:absolute; bottom:0; left:25%;
  opacity:0.7; border-radius:0 0 12px 12px;
}
.dirt{
  width:60%; height:5%;
  background:var(--soil);
  position:absolute; bottom:1%; left:20%;
  border-radius:0 0 1rem 1rem;
  opacity:0.7; z-index:-1;
  box-shadow: inset 0 8px 16px rgba(0,0,0,0.15);
}

/* 유광 하이라이트 (5주차 요구) */
.jar-glossy-long{
  position:absolute; left:24%; bottom:8%;
  width:3%; height:60%; border-radius:2rem;
  background:linear-gradient(to bottom,
    rgba(255,255,255,0.85),
    rgba(255,255,255,0.2) 50%,
    rgba(255,255,255,0)
  );
  filter:blur(0.4px);
  pointer-events:none;
  z-index:2;
  mix-blend-mode:screen;
}
.jar-glossy-short{
  position:absolute; left:32%; bottom:45%;
  width:6%; height:18%; border-radius:2rem;
  background:linear-gradient(to bottom,
    rgba(255,255,255,0.9),
    rgba(255,255,255,0)
  );
  opacity:0.7;
  filter:blur(0.6px);
  pointer-events:none;
  z-index:2;
  mix-blend-mode:screen;
}

/* 병 안으로 들어간 식물(항상 유리 위) */
#terrarium .plant{
  position:absolute;
  z-index:10;
  cursor:grab;
  transform:translate(-50%, -50%); /* left/top을 중심 기준으로 */
}
#terrarium .plant:active{ cursor:grabbing; }

/* 반응형 */
@media (max-width:1024px){
  #page{ grid-template-columns:1fr; }
  #terrarium-area{ order:1; }
  #left-container, #right-container{ order:3; }
  .plant-holder{ height:18vh; }
}
@media (max-width:480px){
  #terrarium{ width:95%; height:70vh; }
}
